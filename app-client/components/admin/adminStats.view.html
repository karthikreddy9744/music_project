<div class="row">
    <div class="col-xs-12">
        <h1 class="page-header">{{ vm.pageHeader.title }}</h1>
    </div>
</div>

<div ng-if="vm.loading" class="text-center">
    <p style="font-size: 1.2em; padding: 40px 0;">Loading statistics...</p>
</div>

<div ng-if="vm.error" class="alert alert-danger">{{ vm.error }}</div>

<div ng-if="!vm.loading && !vm.error">
    <!-- Key Metrics Row -->
    <div class="row">
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-blue">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.userCount || 0 }}</h3>
                    <p>Total Users</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-purple">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.adminCount || 0 }}</h3>
                    <p>Administrators</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-teal">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.contentCount.festivals || 0 }}</h3>
                    <p>Festivals</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-green">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.contentCount.music || 0 }}</h3>
                    <p>Music Items</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-orange">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.contentCount.news || 0 }}</h3>
                    <p>News Articles</p>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4">
            <div class="panel panel-default text-center panel-metric-blue">
                <div class="panel-body">
                    <h3 class="panel-metric">{{ vm.stats.reviewCount || 0 }}</h3>
                    <p>Total Reviews</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-default panel-light">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="glyphicon glyphicon-user"></i> New User Registrations</h3>
                </div>
                <div class="panel-body">
                    <canvas id="user-chart" class="chart chart-line" chart-data="vm.userChart.data"
                        chart-labels="vm.userChart.labels" chart-series="vm.userChart.series" chart-colors="vm.userChart.colors"
                        chart-options="vm.userChart.options" height="120"></canvas>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="panel panel-default panel-light">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="glyphicon glyphicon-eye-open"></i> Daily Active Users</h3>
                </div>
                <div class="panel-body">
                    <canvas id="active-user-chart" class="chart chart-line" chart-data="vm.activeUserChart.data"
                        chart-labels="vm.activeUserChart.labels" chart-series="vm.activeUserChart.series" chart-colors="vm.activeUserChart.colors"
                        chart-options="vm.activeUserChart.options" height="120"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>